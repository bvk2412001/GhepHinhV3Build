System.register("chunks:///_virtual/EndGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,l,c,u,s,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.AudioSource,c=e.Node,u=e.tween,s=e.Vec3,d=e.director,p=e.Component}],execute:function(){var f,g,m,E,G,b,y,v,w;i._RF.push({},"30d13zEtj1NE5XovQSJBBzg","EndGame",void 0);var h=a.ccclass,S=a.property;e("EndGame",(f=h("EndGame"),g=S(l),m=S(c),E=S(c),f((y=t((b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"tingtingEndGame",y,r(t)),o(t,"nodeRootUIEndGame",v,r(t)),o(t,"listStar",w,r(t)),t}n(t,e);var i=t.prototype;return i.onEndGame=function(e,t){for(var n=this,o=0;o<e;o++){var r=this.listStar[o];u(r).delay(.7*o).to(.3,{scale:new s(1,1,1)}).call((function(){n.tingtingEndGame.play()})).to(.1,{scale:new s(1.1,1.1,1.1)}).to(.1,{scale:new s(1,1,1)}).to(.1,{scale:new s(1.1,1.1,1.1)}).to(.1,{scale:new s(1,1,1)}).start()}},i.btnRestart=function(){d.loadScene("Game")},i.btnNextLog=function(){console.log("[ACTION]: NEXTGAME")},i.btnListGameLog=function(){console.log("[ACTION]: SHOWLISTGAME")},t}(p)).prototype,"tingtingEndGame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(b.prototype,"nodeRootUIEndGame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"listStar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=b))||G));i._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"e0ceeqZ70tKarwtGgUCLxF/","Enums",void 0);n("NameSound",function(n){return n[n.thulai=0]="thulai",n[n.bauduc=3]="bauduc",n[n.chunhat=4]="chunhat",n[n.ngoisao=5]="ngoisao",n[n.tamgiac=6]="tamgiac",n[n.thoi=7]="thoi",n[n.traitim=8]="traitim",n[n.tron=9]="tron",n[n.vuong=10]="vuong",n}({})),n("SoundItem",function(n){return n[n.chongsach=0]="chongsach",n[n.lohoa=1]="lohoa",n[n.banhchung=2]="banhchung",n[n.goilung=3]="goilung",n[n.binhhoa=4]="binhhoa",n[n.caudoi=5]="caudoi",n[n.dienthoai=6]="dienthoai",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemCtrl.ts","./Enums.ts"],(function(t){var e,n,i,o,r,a,l,u,s,c,d,h,m,g,p,f,C,y,v,b,T,S,w,I,_,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,u=t.Label,s=t.AudioClip,c=t.AudioSource,d=t.SpriteAtlas,h=t.tween,m=t.Vec3,g=t.Widget,p=t.instantiate,f=t.UITransform,C=t.Tween,y=t.Sprite,v=t.Color,b=t.randomRangeInt,T=t.Size,S=t.screen,w=t.Component,I=t.UIOpacity},function(t){_=t.ItemCtrl},function(t){E=t.SoundItem}],execute:function(){var N,G,B,H,z,A,P,x,O,D,W,k,L,F,U,M,R,K,V,X,j,Q,q,J,Y,Z,$,tt,et,nt,it,ot,rt;r._RF.push({},"661d3LXi19AV5GIgdE0G8QP","GameCtrl",void 0);var at=a.ccclass,lt=a.property;t("GameCtrl",(N=at("GameCtrl"),G=lt(l),B=lt(l),H=lt(l),z=lt(l),A=lt(l),P=lt(l),x=lt(u),O=lt(s),D=lt(s),W=lt(s),k=lt(s),L=lt(c),F=lt(c),U=lt(d),M=lt(l),N((V=e((K=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"containAudio",V,o(e)),i(e,"layoutItem",X,o(e)),i(e,"containItem",j,o(e)),i(e,"nodeEndGame",Q,o(e)),i(e,"nodeHand",q,o(e)),i(e,"nodeTikTak",J,o(e)),i(e,"lblTime",Y,o(e)),i(e,"listAudioClip",Z,o(e)),i(e,"listSoundCorrect",$,o(e)),i(e,"listSoundFail",tt,o(e)),i(e,"listSoundGuide",et,o(e)),i(e,"audioCorrect",nt,o(e)),i(e,"audioGuide",it,o(e)),i(e,"sprList",ot,o(e)),i(e,"startNode",rt,o(e)),e._isEndGame=!1,e._maxTimeGame=50,e._curNode=void 0,e._canUpdatePos=!1,e._countDownHint=5,e._star=0,e.timeHint=9999,e.isClick=!1,e.indexSound=0,e.indexSoundKhen=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){console.log("[INFO]: Progress: 1"),this._countDownHint=this.timeHint,this.nodeHand.active=!1},r.initStartGame=function(){var t=this;this.startNode.active=!1,this.lblTime.node.active=!1,this.containAudio.getChildByName("startGame").getComponent(c).play(),this.containAudio.getChildByName("startGame").on(c.EventType.ENDED,this.onEndSoundStartGame.bind(this)),this.audioCorrect.node.on(c.EventType.ENDED,this.runSoundItem.bind(this)),this.scheduleOnce((function(){t.Animation()}),2)},r.Animation=function(){var t=this;this.layoutItem.children.forEach((function(e,n){t.scheduleOnce((function(){h(e).to(.3,{scale:new m(1.2,1.2,1.2)}).to(.3,{scale:new m(1,1,1)}).start()}),.3*n)}))},r.onEndSoundStartGame=function(){console.log("onEndSoundStartGame"),this.lblTime.node.active=!0,this._maxTimeGame=50,this.initItem(),this.showHint()},r.initItem=function(){for(var t=0;t<this.layoutItem.children.length;t++){var e=this.layoutItem.children[t],n=e.getChildByName("iconItem").addComponent(_);e.getChildByName("iconItem").getComponent(g)&&(e.getChildByName("iconItem").getComponent(g).enabled=!1),n.basePos=e.getWorldPosition(),e.on(l.EventType.TOUCH_START,this.onTouchStart.bind(this)),e.on(l.EventType.TOUCH_MOVE,this.onTouchMove.bind(this))}this.node.on(l.EventType.TOUCH_MOVE,this.onTouchMove.bind(this)),this.node.on(l.EventType.TOUCH_END,this.onTouchEnd.bind(this)),this.node.on(l.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this))},r.onTouchStart=function(t){var e=this,n=this.getItem(t.getUILocation());n&&(console.log("Den day"),1!=this.isClick&&(this.isClick=!0,this.audioGuide.stop(),this._curNode=p(n.getChildByName("iconItem")),this._curNode.parent=this.node,this._curNode.name=n.name,this._curNode.setWorldPosition(new m(t.getUILocation().x,t.getUILocation().y)),this._curNode.setScale(new m(1,1,1)),this._curNode.off(l.EventType.TOUCH_START),this.containItem.children.forEach((function(t){n.name==t.name&&e._curNode.getComponent(f).setContentSize(t.getComponent(f).contentSize)}))))},r.getItem=function(t){for(var e=!0,n=0;n<this.layoutItem.children.length;n++){var i=this.layoutItem.children[n];if(i.active){var o=i.getWorldPosition(),r=i.scale,a=i.getComponent(f).contentSize;if(t.x>=o.x-a.width*r.x/2&&t.x<=o.x+a.width/2*r.x&&t.y>=o.y-a.height/2*r.y&&t.y<=o.y+a.height/2*r.y&&1==e)return i;e=!1}}return null},r.onTouchMove=function(t){if(this._canUpdatePos&&!this._isEndGame&&this._curNode&&0!=this.isClick){var e=t.getUILocation();this._curNode.setWorldPosition(new m(e.x,e.y))}},r.onTouchEnd=function(t){var e=this,n=this._curNode;if(null!=n&&0!=this.isClick){if(!this.checkIsOutLayout())return this._curNode=null,this.scheduleOnce((function(){e.isClick=!1}),1),void this.returnBasePos(n,this.convertWorldPosNodeToNode(n,this.layoutItem.getChildByName(""+n.name)));this._curNode=null;var i=this.containItem.getChildByPath(""+n.name).getComponent(f).getBoundingBoxToWorld(),o=n.getComponent(f).getBoundingBoxToWorld();if(i.intersects(o)){this._countDownHint=9999;var r=this.containItem.getChildByName(""+n.name);C.stopAllByTarget(r),r.getComponent(y).enabled=!0,console.log(n),n.destroy(),this.layoutItem.getChildByName(""+n.name).active=!1,this.containItem.getChildByPath(n.name+"/bounding").active=!1,this.checkEndGame()&&this.scheduleOnce(this.onEndGame.bind(this),2),this.RunCorrect(),this.nodeHand.active=!1,C.stopAllByTarget(this.nodeHand)}else this.RunFail(),this.returnBasePos(n,this.convertWorldPosNodeToNode(n,this.layoutItem.getChildByName(""+n.name)))}},r.checkIsOutLayout=function(){var t=this._curNode.getComponent(f).getBoundingBoxToWorld(),e=this.layoutItem.getComponent(f).getBoundingBoxToWorld();return!t.intersects(e)},r.returnBasePos=function(t,e){var n=this;h(t).by(.3,{position:e}).call((function(){n.layoutItem.getChildByName(""+t.name).active=!0,t.destroy()})).start()},r.onEndGame=function(){if(!this._isEndGame){this._isEndGame=!0;var t=0;this.nodeTikTak.active=!1;for(var e=0;e<this.layoutItem.children.length;e++)this.layoutItem.children[e].active||t++;t>=6?this._star=3:t>=4?this._star=2:t>=1&&(this._star=1),this.logResult()}},r.RunSound=function(t){var e=new l;e.parent=this.containAudio,e.addComponent(c),e.getComponent(c).clip=this.listAudioClip[t],e.getComponent(c).play()},r.update=function(t){this.node.getComponent(f).setContentSize(this.getSizeWindow(1366,1024)),this._isEndGame||(this._maxTimeGame-=t,this._maxTimeGame>=0&&(this.lblTime.string=this.convertTimeSecondToMinute(this._maxTimeGame)),-1!=this._countDownHint&&(this._countDownHint-=t,this._countDownHint<=0&&(this._countDownHint=-1,this.showHint())),this._maxTimeGame<=5&&(this.nodeTikTak.active=!0,this.lblTime.color=(new v).fromHEX("#FF9494"),this.lblTime.node.parent.getChildByName("bg").getComponent(y).color=(new v).fromHEX("#FFDADA")),this._maxTimeGame<=0&&!this._isEndGame?this.onEndGame():this._canUpdatePos=!0)},r.convertWorldPosNodeToNode=function(t,e){var n=t.getWorldPosition();return e.getWorldPosition().subtract(n)},r.showHint=function(){var t=this;this.indexSound++,this._countDownHint=999;for(var e,n=function(){var e=t.layoutItem.children[i];if(0==e.active)return 0;t.indexSound%2==1&&t.runSoundItem(),t.nodeHand.active=!0;var n=e.name,o=t.containItem.getChildByName(""+n).getWorldPosition();return t.nodeHand.setWorldPosition(e.getWorldPosition()),C.stopAllByTarget(t.nodeHand),h(t.nodeHand).by(1.5,{position:o.subtract(e.getWorldPosition())}).call((function(){var i=t.containItem.getChildByPath(n+"/bounding");t.containItem.getChildByPath(n+"/bounding").children[0].active=!0,h(i.getComponent(I)).repeat(3,h(i.getComponent(I)).to(.5,{opacity:155}).to(.5,{opacity:255}).start()).call((function(){i.children[0].active=!1})).start(),t.nodeHand.setWorldPosition(e.getWorldPosition()),t.nodeHand.active=!1})).start(),{v:void 0}},i=0;i<this.layoutItem.children.length;i++)if(0!==(e=n())&&e)return e.v},r.checkEndGame=function(){for(var t=0;t<this.layoutItem.children.length;t++)if(this.layoutItem.children[t].active)return!1;return!0},r.RunCorrect=function(){var t=this;this.indexSoundKhen++,this.audioCorrect.getComponent(c).playOneShot(this.listSoundCorrect[0]),this.indexSoundKhen%2==1?this.scheduleOnce((function(){var e=t.listSoundCorrect[b(1,t.listSoundCorrect.length)];t.audioCorrect.getComponent(c).playOneShot(e),t.scheduleOnce((function(){t.runSoundItem()}),e.getDuration())}),this.listSoundCorrect[0].getDuration()):this.runSoundItem()},r.RunFail=function(){var t=this,e=new l;e.parent=this.containAudio,e.addComponent(c),e.getComponent(c).clip=this.listSoundFail[0],e.getComponent(c).play(),this.scheduleOnce((function(){t.isClick=!1}),1)},r.runSoundItem=function(){for(var t,e=this,n=function(){var t=e.layoutItem.children[i];if(!t.active)return 0;var n=t.getChildByPath("/iconItem");n.getComponent(I)||n.addComponent(I),h(n.getComponent(I)).repeatForever(h(n.getComponent(I)).to(.5,{opacity:155}).to(.5,{opacity:255})).start();var o=e.sprList.getSpriteFrame(t.name+"_light");return n.getComponent(y).spriteFrame=o,n.getComponent(f).setContentSize(new T(o.rect.width,o.rect.height)),console.log(n.parent.name),"banhchung"==n.parent.name&&n.setScale(new m(.75,.75,.75)),e.audioGuide.getComponent(c).clip=e.listSoundGuide[E[""+t.name]],e.audioGuide.node.once(c.EventType.ENDED,(function(){e.isClick=!1,e._countDownHint=7,n.getComponent(I).opacity=255;var i=e.sprList.getSpriteFrame(""+t.name);n.getComponent(y).spriteFrame=i,n.getComponent(f).setContentSize(new T(i.rect.width,i.rect.height)),C.stopAllByTarget(n.getComponent(I)),"banhchung"==n.parent.name&&n.setScale(new m(1,1,1))})),e.audioGuide.getComponent(c).volume=1,e.audioGuide.getComponent(c).play(),{v:void 0}},i=0;i<this.layoutItem.children.length;i++)if(0!==(t=n())&&t)return t.v},r.resizeImage=function(t,e,n){var i=0,o=0,r=n.rect.width/n.rect.height;return console.log(n.rect.width+" "+n.rect.height),r>1?(o=t,i=t/r):(i=e,o=e*r),new T(o,i)},r.convertTimeSecondToMinute=function(t){var e=Math.floor(t/60);return((e%=60)<10?"0"+e:e)+":"+((t=Math.floor(t%60))<10?"0"+t:t)},r.btnBack=function(){console.log("[ACTION]: BACK")},r.btnNextGame=function(){console.log("[ACTION]: NEXTGAME")},r.btnShowListGame=function(){console.log("[ACTION]: SHOWLISTGAME")},r.logResult=function(){var t=50-Math.max(0,this._maxTimeGame);t=Math.floor(100*t)/100,console.log("[RESULT]: "+t+" - "+this._star)},r.getSizeWindow=function(t,e){var n=0,i=0,o=S.windowSize.width/t,r=S.windowSize.height/e;return o>r?(i=S.windowSize.width/r,n=e):(n=S.windowSize.height/o,i=t),new T(i,n)},e}(w)).prototype,"containAudio",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"layoutItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(K.prototype,"containItem",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(K.prototype,"nodeEndGame",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(K.prototype,"nodeHand",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(K.prototype,"nodeTikTak",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(K.prototype,"lblTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"listAudioClip",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(K.prototype,"listSoundCorrect",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(K.prototype,"listSoundFail",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(K.prototype,"listSoundGuide",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(K.prototype,"audioCorrect",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(K.prototype,"audioGuide",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(K.prototype,"sprList",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(K.prototype,"startNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=K))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){r._RF.push({},"9551aj3NvRGML/sOIT/EU2I","ItemCtrl",void 0);n.ccclass,n.property,t("ItemCtrl",function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).basePos=void 0,e}return e(r,t),r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/resources",["./EndGame.ts","./Enums.ts","./GameCtrl.ts","./ItemCtrl.ts","./ScaleButton.ts"],(function(){return{setters:[null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ScaleButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,a,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.CCFloat,c=t.Vec3,u=t.Component}],execute:function(){var l,p,h,d,f;r._RF.push({},"a34904VxlxMrbkiRn4O/Pee","ScaleButton",void 0);var g=a.ccclass,v=a.property;t("ScaleButton",(l=g("ScaleButton"),p=v(s),l((f=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"size",f,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){},r.isMobile=function(){return/android|iphone|ipod/.test(navigator.userAgent.toLowerCase())},r.isIpad=function(){return/ipad/.test(navigator.userAgent.toLowerCase())||/macintosh/.test(navigator.userAgent.toLowerCase())&&"ontouchend"in document},r.update=function(t){1==this.isMobile()&&(this.node.scale=new c(this.size,this.size,this.size))},e}(u)).prototype,"size",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),h=d))||h));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/resources', 'chunks:///_virtual/resources'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});